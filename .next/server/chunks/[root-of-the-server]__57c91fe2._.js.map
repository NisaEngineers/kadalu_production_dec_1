{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LOQ/Desktop/monaarch_october/monaarch_frontend_/app/api/advance/proxy/route.tsx"],"sourcesContent":["// app/api/advance/proxy/route.ts\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const formData = await request.formData();\r\n    const file = formData.get('file') as File;\r\n    const userId = formData.get('userId') as string;\r\n\r\n    if (!file || !userId) {\r\n      return NextResponse.json(\r\n        { detail: 'Missing file or userId' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const proxyForm = new FormData();\r\n    proxyForm.append('file', file);\r\n\r\n    const response = await fetch(`https://api-advance.monaarch.org/separate/${userId}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n      },\r\n      body: proxyForm,\r\n    });\r\n\r\n    const contentType = response.headers.get('content-type') || '';\r\n    let data: any;\r\n\r\n    if (contentType.includes('application/json')) {\r\n      data = await response.json();\r\n    } else {\r\n      const text = await response.text();\r\n      return NextResponse.json(\r\n        { detail: `Unexpected response: ${text.substring(0, 200)}` },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    if (!response.ok) {\r\n      return NextResponse.json(data, { status: response.status });\r\n    }\r\n\r\n    return NextResponse.json(data);\r\n  } catch (error: any) {\r\n    return NextResponse.json(\r\n      { detail: error.message || 'Proxy failed' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AACjC;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;QACvC,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,SAAS,SAAS,GAAG,CAAC;QAE5B,IAAI,CAAC,QAAQ,CAAC,QAAQ;YACpB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,QAAQ;YAAyB,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,YAAY,IAAI;QACtB,UAAU,MAAM,CAAC,QAAQ;QAEzB,MAAM,WAAW,MAAM,MAAM,CAAC,0CAA0C,EAAE,QAAQ,EAAE;YAClF,QAAQ;YACR,SAAS;gBACP,UAAU;YACZ;YACA,MAAM;QACR;QAEA,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;QAC5D,IAAI;QAEJ,IAAI,YAAY,QAAQ,CAAC,qBAAqB;YAC5C,OAAO,MAAM,SAAS,IAAI;QAC5B,OAAO;YACL,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,QAAQ,CAAC,qBAAqB,EAAE,KAAK,SAAS,CAAC,GAAG,MAAM;YAAC,GAC3D;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAC3D;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,QAAQ,MAAM,OAAO,IAAI;QAAe,GAC1C;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}